<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<!-- saved from url=(0063)http://www.acroname.com/robotics/info/articles/sharp/sharp.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">  <meta name="keywords" content="Sharp,IR,Theory,Demystifying,Explaining,Distance,chart,infrared,sensors"> <meta name="description" content="Demystifying the Sharp IR Rangers"> <title>Sharp IR Rangers Information</title> <link rel="StyleSheet" href="./Sharp IR Rangers Information_files/a.css" type="text/css" title="object" media="screen"> <link rel="alternate" type="application/rss+xml" href="http://www.acroname.com/news.rss" title="Acroname Robotics News"> <link rel="shortcut icon" href="http://www.acroname.com/favicon.ico">  </head> <body> <script type="text/javascript" src="./Sharp IR Rangers Information_files/a.js"></script> <div class="header"> <table class="header" cellspacing="0"> <tbody><tr> <td rowspan="2" class="logo"> <img class="logo" src="./Sharp IR Rangers Information_files/logo.jpg" alt="Neuron Logo" style="cursor:pointer;" onclick="document.location=&quot;http://www.acroname.com/&quot;;"> </td> <td colspan="2" class="title"> Sharp IR Rangers Information <div class="modify">Last Modified: 2011-03-06</div> </td> <td rowspan="2" class="find" nowrap=""> <form method="POST" action="http://www.easierrobotics.com/cgi-bin/f"> find: <input class="find" name="key"> </form> <p> <img src="./Sharp IR Rangers Information_files/basket.jpg" width="60" height="60" alt="basket" style="cursor:pointer;" onmouseover="src=&quot;/i/basketh.jpg&quot;" onmouseout="src=&quot;/i/basket.jpg&quot;" onclick="location.href= &quot;https://www.easierrobotics.com/cgi-bin/basket.cgi&quot;"> </p></td> </tr> <tr> <td class="acro" nowrap=""> Acroname Robotics </td> <td class="pdf" nowrap=""> &nbsp; </td> </tr> </tbody></table> </div> <div class="nav"> <table class="nav" cellspacing="0" cellpadding="0"> <tbody><tr> <td class="navl" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;http://www.acroname.com/company.html&quot;"> Contact </td> <td class="nav" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;http://www.acroname.com/technology.html&quot;"> Technologies </td> <td class="nav" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;https://www.easierrobotics.com/cgi-bin/software&quot;"> Downloads </td> <td class="nav" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;http://www.acroname.com/mission.html&quot;"> Mission </td> <td class="nav" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;http://www.acroname.com/products.html&quot;"> Products </td> <td class="nav" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;http://www.acroname.com/news.html&quot;"> News </td> <td class="navr" onmouseover="navOver(this)" onmouseout="navOff(this)" onclick="document.location=&quot;http://www.acroname.com/support.html&quot;" style="background-color: rgb(96, 96, 96); "> Support </td> </tr> </tbody></table> </div> <div align="CENTER"> <table class="content"> <tbody><tr> <td rowspan="4" class="lmargin"> <table class="rp" align="RIGHT"><tbody><tr><td class="rpt"><p class="s">Related<br>Products</p></td></tr><tr><td class="rp"><a class="rp" onmouseover="style.color=&quot;#000000&quot;;" onmouseout="style.color=&quot;#646464&quot;;" href="http://www.acroname.com/robotics/parts/R146-GP2D120.html"><img class="rp" src="./Sharp IR Rangers Information_files/R146-GP2D120.jpg" alt="Product image for Sharp GP2D120XJ00F IR Package"><br>Sharp GP2D120XJ00F IR Package</a></td></tr><tr><td class="rp"><a class="rp" onmouseover="style.color=&quot;#000000&quot;;" onmouseout="style.color=&quot;#646464&quot;;" href="http://www.acroname.com/robotics/parts/R301-GP2Y0A21YK.html"><img class="rp" src="./Sharp IR Rangers Information_files/R301-GP2Y0A21YK.jpg" alt="Product image for Sharp GP2Y0A21YK0F IR Package"><br>Sharp GP2Y0A21YK0F IR Package</a></td></tr><tr><td class="rp"><a class="rp" onmouseover="style.color=&quot;#000000&quot;;" onmouseout="style.color=&quot;#646464&quot;;" href="http://www.acroname.com/robotics/parts/R48-IR12.html"><img class="rp" src="./Sharp IR Rangers Information_files/R48-IR12.jpg" alt="Product image for Sharp GP2D12J0000F IR Package"><br>Sharp GP2D12J0000F IR Package</a></td></tr><tr><td class="rp"><a class="rp" onmouseover="style.color=&quot;#000000&quot;;" onmouseout="style.color=&quot;#646464&quot;;" href="http://www.acroname.com/robotics/parts/R49-IR15.html"><img class="rp" src="./Sharp IR Rangers Information_files/R49-IR15.jpg" alt="Product image for Sharp GP2D15J0000F IR Package"><br>Sharp GP2D15J0000F IR Package</a></td></tr><tr><td class="rp"><a class="rp" onmouseover="style.color=&quot;#000000&quot;;" onmouseout="style.color=&quot;#646464&quot;;" href="http://www.acroname.com/robotics/parts/R144-GP2Y0A02YK.html"><img class="rp" src="./Sharp IR Rangers Information_files/R144-GP2Y0A02YK.jpg" alt="Product image for Sharp GP2Y0A02YK0F IR Package"><br>Sharp GP2Y0A02YK0F IR Package</a></td></tr><tr><td class="rp"><a class="rp" onmouseover="style.color=&quot;#000000&quot;;" onmouseout="style.color=&quot;#646464&quot;;" href="http://www.acroname.com/robotics/parts/R316-GP2Y0A710YK.html"><img class="rp" src="./Sharp IR Rangers Information_files/R316-GP2Y0A710YK.jpg" alt="Product image for Sharp GP2Y0A710YK0F Package"><br>Sharp GP2Y0A710YK0F Package</a></td></tr></tbody></table> </td> <td class="content"> <p class="s"><a name="c">Contents</a></p><div class="contents"><div class="content_index"><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e2" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Introduction</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e4" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: white; background-position: initial initial; background-repeat: initial initial; ">A Little History</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e5" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Theory of Operation</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e8" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Which Detector to Use?</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e26" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Non-Linear Output</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e30" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Beam Pattern</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e33" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Interfacing The Sensors</a><br><a class="contents" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e35" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;">Conclusion</a><br></div></div><div class="img"><img src="./Sharp IR Rangers Information_files/sharp-rangers.jpg" alt="Army of Sharp rangers." width="450" height="331"></div><a name="e2"></a><p class="s">Introduction</p><p>Over the years, Sharp has introduced a family of infra-red detectors.&nbsp; These detectors boast a small package, very little current consumption, and a variety of output options.&nbsp; This article offers an overview of the various types, information on interfacing them, and hints and tips.&nbsp;</p><p>If you're simply looking for a comparison of the Sharp IR sensors, you can <b><a href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#e8">skip below</a></b> to the section 'Which Detector to Use.'</p><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e4"></a><p class="s">A Little History</p><p>In the past, the Sharp metal-can IR receiver was used along with a driving circuit and one or more IR LED's; this approach offered boolean input for each LED fired based on the availability of a reflection at the receiver.&nbsp; This is a hack that works well but is limited in range, susceptible to ambient light interference, and requires a drive circuit, LEDs and the receiver.&nbsp; This approach was successfully used, for instance, in the Rug Warrior Pro kits.&nbsp;</p><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e5"></a><p class="s">Theory of Operation</p><p>With the introduction of the GP2DXX line of Sharp detectors, a new approach was developed that not only gives object detection at a longer range than the previous method, but also offers range information, in the case of the GP2D12, GP2D120, and GP2DY0A ('0A') detectors.&nbsp; These new rangers offer much better immunity to ambient lighting conditions because of the new method of ranging.&nbsp;<br></p><p>These new rangers all use triangulation and a small linear CCD array to compute the distance and/or presence of objects in the field of view.&nbsp; The basic idea is this: a pulse of IR light is emitted by the emitter.&nbsp; This light travels out in the field of view and either hits an object or just keeps on going.&nbsp; In the case of no object, the light is never reflected and the reading shows no object.&nbsp; If the light reflects off an object, it returns to the detector and creates a triangle between the point of reflection, the emitter, and the detector.&nbsp;</p><div class="img"><img src="./Sharp IR Rangers Information_files/triangle.jpg" alt="Triangulation of IR beam pattern." width="286" height="194"><br>Different Angles with Different Distances</div><p>The angles in this triangle vary based on the distance to the object.&nbsp; The receiver portion of these new detectors is actually a precision lens that transmits the reflected light onto various portions of the enclosed linear CCD array based on the angle of the triangle described above.&nbsp; The CCD array can then determine what angle the reflected light came back at and therefore, it can calculate the distance to the object.&nbsp;<br></p><p>This new method of ranging is almost immune to interference from ambient light and offers amazing indifference to the color of object being detected.&nbsp; Detecting a black wall in full sunlight is now possible.&nbsp;</p><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e8"></a><p class="s">Which Detector to Use?</p><p>The GP2XX detectors come in several derivatives.&nbsp; The table below helps to characterize each type by minimum and maximum ranges, as well as whether the sensor returns a varying distance value or a boolean detection signal:</p><div class="img"><img src="./Sharp IR Rangers Information_files/Scale.jpg" alt="Distance Comparision scale for the Sharp Rangers." width="500" height="17"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP2D12.jpg" alt="Sharp GP2D12 graphical display of ranger detection." width="500" height="23"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP2D120.jpg" alt="Sharp GP2D120 graphical display of ranger detection." width="500" height="30"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP0A02.jpg" alt="Sharp GP2Y0A02YK graphical display of ranger detection." width="500" height="26"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP0A21.jpg" alt="Sharp GP2Y0A21YK graphical display of ranger detection." width="500" height="27"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP0A700.jpg" alt="Sharp GP2Y0A700K graphical display of ranger detection." width="500" height="27"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP2D15.jpg" alt="Sharp GP2D15 graphical display of ranger detection." width="500" height="28"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP0D02.jpg" alt="Sharp GP2Y0D02YK graphical display of ranger detection." width="500" height="30"></div><p>The following detectors are discontinued, and are included here for historical reference:</p><div class="img"><img src="./Sharp IR Rangers Information_files/GP2D02.jpg" alt="Sharp GP2D02 graphical display of ranger detection." width="500" height="32"></div><div class="img"><img src="./Sharp IR Rangers Information_files/GP2D05.jpg" alt="Sharp GP2D05 graphical display of ranger detection." width="501" height="28"></div><div class="img"><img src="./Sharp IR Rangers Information_files/Legend.jpg" alt="Lengend for sharp distance images." width="500" height="31"></div><table border="0" width="100%"> <tbody><tr> <td colspan="6" align="center">Links to product pages</td> </tr> <tr> <th colspan="3">Analog</th><th>Digital</th> </tr> <tr> <td><a href="http://www.acroname.com/robotics/parts/R48-IR12.html">GP2D12</a></td> <td><a href="http://www.acroname.com/robotics/parts/R146-GP2D120.html">GP2D120</a></td> <td><a href="http://www.acroname.com/robotics/parts/R144-GP2Y0A02YK.html">GP2Y0A02</a></td> <td><a href="http://www.acroname.com/robotics/parts/R49-IR15.html">GP2D15</a></td> </tr> <tr> <td><a href="http://www.acroname.com/robotics/parts/R301-GP2Y0A21YK.html">GP2Y0A21</a></td> <td><a href="http://www.acroname.com/robotics/parts/R302-GP2Y0A700K0F.html">GP2Y0A700</a></td> <td></td> <td colspan="2"></td> </tr> </tbody></table> <p> The above chart is also available as a PDF download through the following link. </p><div align="CENTER"><table cellspacing="0" class="ftable"><tbody><tr><td><img class="ficon" src="./Sharp IR Rangers Information_files/adobe.jpg" alt="file icon"></td><td><a href="http://www.acroname.com/robotics/info/articles/sharp/sharp_compare.pdf">sharp_compare.pdf</a><br>26.96K Bytes</td></tr><tr><td class="fdesc" colspan="2">Sharp Comparison Guide in PDF format</td></tr></tbody></table></div><p>As you can see, the seven sensors vary in several respects.&nbsp; The GP2D12, GP2D120, GP2Y0A02 ('0A02'), GP2Y0A21 ('0A21'), and GP2Y0A700 ('0A700') sensors offer true ranging information in the form of an analog output.&nbsp; The GP2D15 and GP2DY0D02 ('0D'), by contrast, offer a single digital value based on whether an object is present or not.&nbsp; None of the detectors require an external clock or signal.&nbsp; Instead, they fire continuously, requiring around 25mA of continuous current.&nbsp;<br></p><p>The 0A700 is a special case in that it is much larger than the other Sharp sensors, as seen below.&nbsp; The increase in size is to accommodate larger lenses and circuitry required for its maximum range of 5.5 meters.&nbsp;</p><div class="img"><img src="./Sharp IR Rangers Information_files/comparison.jpg" width="320" height="177"><br>A size comparison of the the 0A700 (largest, left) with a GP2Y0A02/0D02 (right) and GP2D12/15/120 (bottom)</div><p>The choice of which detector to use truly depends on the situation, capabilities of the controller (whether it has an A/D channel to spare), etc.&nbsp; Study of the above chart should help you make the right choice depending on your situation.&nbsp;</p><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e26"></a><p class="s">Non-Linear Output</p><p>Because of some basic trigonometry within the triangle from the emitter to reflection spot to receiver, the output of these new detectors is non-linear with respect to the distance being measured.&nbsp;</p><div class="img"><img src="./Sharp IR Rangers Information_files/non-linear.jpg" alt="Voltage to distance plot." width="205" height="328"><br>GP2D12 Output Voltage to Distance Curve</div><p>The above graph shows typical output from these detectors.&nbsp; There are two things interesting in this graph.&nbsp; First, the output of the detectors within the stated range (10 cm - 80 cm) is not linear but rather somewhat logarithmic.&nbsp; This curve will vary slightly from detector to detector so it is a good idea to "normalize" the output with a lookup table or parameterized function.&nbsp; In this way, you calibrate each detector and end up with linear data that is consistent from detector to detector.&nbsp; An article is available describing how to linearize the data using integer math; type 'linearize' into the find box to find this article.&nbsp;<br></p><p>The second thing to notice in the above graph is that once you fall inside of the stated distance range (less than 10cm), the output drops rapidly and starts to look like a longer range reading.&nbsp; This can be disastrous if your robot is slowing down as it approaches a solid object, gets below the minimum range, and then misinterprets the apparently long range reading driving full-speed into the object.&nbsp; The easiest way to avoid this is to cross-fire the detectors across the width or length of the robot.&nbsp;</p><div class="img"><img src="./Sharp IR Rangers Information_files/cross.jpg" alt="Cross firing IR rangers to eliminate non-linearity." width="441" height="174"><br>Example of cross-firing detectors to avoid range errors.</div><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e30"></a><p class="s">Beam Pattern</p><p>The beam pattern for these detectors is pretty consistent between types.&nbsp; The range is typically somewhere between 10-80 cm and the beam is roughly football shaped with the widest portion in the middle being about 16 cm wide.&nbsp; This is a reasonably narrow beam pattern which makes for great ranging data when coupled with a servo to "sweep" the detector while taking readings.&nbsp;<br></p><p>When using the Sharp detectors as a solid-state bumper, you typically want the widest beam pattern possible to provide coverage for a large area such as the entire front of the robot.&nbsp; This can easily be accomplished using two detectors that cross over each other in front of the robot.&nbsp; The most common detector to use in this arrangement would be the GP2D15.&nbsp;</p><div class="img"><img src="./Sharp IR Rangers Information_files/bumper.jpg" alt="Wider beam patterns using cross firing detectors." width="438" height="311"><br>Example of wider beam angle using two crossing detectors.</div><p>Depending on the type of detector used, the output from these two detectors could actually be combined to help your microprocessor I/O budget.&nbsp;</p><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e33"></a><p class="s">Interfacing The Sensors</p><p>Except for the GP2Y0A700, these detectors are quite small and all use a tiny connector called the Japan Solderless Terminal (JST) connector.&nbsp; These connectors have three wires: ground, vcc, and the output.&nbsp; Because the sensors fire continuously and don't need any clocking to initiate a reading, they are easier to interface but use more power and can potentially interfere with one another when multiple detectors are used on a single robot.&nbsp; Interference can be avoided by keeping in mind the theory of operation of the sensors, discussed above, when placing them on the robot.&nbsp;<br></p><p>The larger GP2Y0A700 is a special case, and has a 5-pin JST connector with two ground and two power lines.&nbsp; However, these lines can be soldered together provided the attached power supply is capable of delivering roughly 400 mA of peak current (roughly 30-50 mA continuous current).&nbsp; Like the other sensors, the GP2Y0A700 fires continuously.&nbsp;<br></p><p>The discontinued GP2D02 and GP2D05 both use a Japan Solderless Terminal (JST) connector with 4 wires.&nbsp; The wires include ground, Vcc, clock input, and data output.&nbsp; Since the internal logic of these detectors runs at ~3 volts, it is necessary to protect the clock input from being driven above this voltage.&nbsp; This can be done with a resistor network to divide the voltage but the desired method is to use a small signal diode such as the 1N4148 high speed switching diode.&nbsp; This diode is connected in such a way as to only allow current to flow with a low logic level input.&nbsp; The internal circuitry of these detectors pulls the input high otherwise.&nbsp;</p><div class="img"><img src="./Sharp IR Rangers Information_files/diode.jpg" alt="Proper diode orientation for interfacing GP2D02 and GP2D05 to a microcontroller." width="224" height="89"><br>Block Diagram Showing Diode Orientation.</div><div class="contents"><a class="contents" onmouseover="style.background=&#39;orange&#39;" onmouseout="style.background=&#39;white&#39;" href="http://www.acroname.com/robotics/info/articles/sharp/sharp.html#c">Contents</a></div><a name="e35"></a><p class="s">Conclusion</p><p>These detectors are a great addition to the suite of detectors available for robotics.&nbsp; They are quite inexpensive, use very little power, fit in small spaces, and have a unique range that is ideally suited to small robots in human spaces such as hallways, rooms, and the occasional maze.&nbsp;<br></p><p>While these don't give absolute range accuracy, they offer rich information for a robot that typically deals with noisy information in the first place.&nbsp; Often, knowing whether a robot is close to a wall or far away is enough to make choices about what to do next.&nbsp;</p><p class="s">Revision History:</p><ul><li>2000-02-09: Article Created.</li><li>2007-10-17: Updated page to include information about the GP2D15, GP2D120, GP2DY0A, and GP2DY0D sensors</li><li>2008-01-09: Created comparison graphs for the GP2Y0A21YK and the GP2Y0A700K as well as interfacing information for the GP2Y0A700K.</li></ul> </td> <td rowspan="4" class="rmargin">  </td> </tr> <tr> <td style="height:8px;font-size:1px;"> &nbsp; </td> </tr> <tr> <td class="content"><p class="s">Related Links:</p><p class="f"><a class="f" href="http://www.acroname.com/robotics/info/ideas/adjust15/adjust15.html">Ideas: Modifying the Sharp GP2D15 for Shorter Detection Ranges</a><br></p><p class="f"><a class="f" href="http://www.acroname.com/robotics/info/articles/irlinear/irlinear.html">Sharp IR Range Finder Voltage-to-Range Conversion Article</a><br></p></td> </tr> <tr> <td class="cpy" nowrap=""> voice: 720-564-0373,  email: <a href="mailto:sales@acroname.com">sales@acroname.com</a>,  address: 4822 Sterling Dr., Boulder CO, 80301-2350,  <a href="http://www.acroname.com/privacy.html">privacy</a><br> © Copyright 1994-2011 Acroname, Inc., Boulder, Colorado.  All rights reserved. </td> </tr> </tbody></table> </div> </body></html>